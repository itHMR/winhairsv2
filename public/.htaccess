RewriteEngine On

# 1️⃣ Forzar HTTPS primero
RewriteCond %{HTTPS} !=on
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# 2️⃣ Forzar sin www
RewriteCond %{HTTP_HOST} ^www\.winhairtj\.com$ [NC]
RewriteRule ^(.*)$ https://winhairtj.com/$1 [L,R=301]

# 3️⃣ NO usar SPA fallback en Astro
# Dejar que las URLs inexistentes devuelvan 404 real